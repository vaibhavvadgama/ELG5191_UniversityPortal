<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/
DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:p="http://primefaces.org/ui">


<f:metadata>
	<f:viewParam name="user" value="#{editUser.user}"
		converter="#{userConverter}" />
	<f:event listener="#{editUser.preRenderView()}" type="preRenderView" />
</f:metadata>

<h:head>
	<link rel="stylesheet" type="text/css" href="./public/css/960.css" />
	<link rel="stylesheet" type="text/css" href="./public/css/default.css" />
	<title>User list</title>
</h:head>


<h:body>
	<div class="container_16" id="con-outer">
		<div id="header" class="grid_16">
			<div id="header-content">
				<h1>University Portal</h1>
				<h2>
					Welcome<h:outputText value="&#160;" />
					<h:outputText id="loggedUser" value="#{userLogin.user.firstName}" />
				</h2>
			</div>
		</div>
		<div id="menu" class="grid_16">
			<ul>
				<li><a href="/university-war/home.xhtml">Home</a></li>
			</ul>
		</div>

		<div id="content" class="grid_14 prefix_1 suffix_1">
			<div id="message" class="grid_6 prefix_1 suffix_2">
				<h:messages styleClass="success" />
			</div>
			<p:dataTable id="usersTable" value="#{retrieveUsers.users}"
				paginator="true" paginatorPosition="bottom" rows="10" var="user">
				<p:column id="userId" headerText="User ID" sortBy="#{user.userId}">
					<h:outputText id="userIdCell" value="#{user.userId}" />
				</p:column>
				<p:column id="firstName" headerText="First Name"
					sortBy="#{user.firstName}">
					<h:outputText id="firstNameCell" value="#{user.firstName}" />
				</p:column>
				<p:column id="lastName" headerText="Last Name"
					sortBy="#{user.lastName}">
					<h:outputText id="lastNameCell" value="#{user.lastName}" />
				</p:column>

				<p:column id="emailId" headerText="Email Id"
					sortBy="#{user.emailid}">
					<h:outputText id="emailIdCell" value="#{user.emailid}" />
				</p:column>

				<p:column id="isActive" headerText="Active"
					sortBy="#{user.isActive}">
					<h:outputText id="isActiveCell" value="#{user.isActive}" />
				</p:column>

				<p:column id="role" headerText="Role" sortBy="#{user.role}">
					<h:outputText id="roleCell" value="#{user.role}" />
				</p:column>

				<p:column id="createdDate" headerText="Created Date"
					sortBy="#{user.createdDate}">
					<h:outputText id="createdDateCell" value="#{user.createdDate}">
						<f:convertDateTime pattern="dd/MM/yyyy" />
					</h:outputText>
				</p:column>

				<p:column id="modifiedDate" headerText="Modified Date"
					sortBy="#{user.modifiedDate}">
					<h:outputText id="modifiedDateCell" value="#{user.modifiedDate}">
						<f:convertDateTime pattern="dd/MM/yyyy" />
					</h:outputText>
				</p:column>

				<p:column id="edit" headerText="Edit User">
					<h:link outcome="edit_user.xhtml" value="Edit">
						<f:param name="user" value="#{user.userId}" />
					</h:link>
				</p:column>
				<p:column id="delete" headerText="Delete User">
					<h:link outcome="delete_user.xhtml" value="Delete">
						<f:param name="user" value="#{user.userId}" />
					</h:link>
				</p:column>
			</p:dataTable>

		</div>
		<div id="footer" class="grid_16">
			<div class="grid_4 prefix_6 suffix_6">All rights reserved.
				&copy; 2012 University of Ottawa.</div>
		</div>
	</div>

</h:body>
</html>
